(this["webpackJsonpvisualizer-app"]=this["webpackJsonpvisualizer-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),i=a.n(r),c=(a(16),a(10)),l=a(1),s=a(2),u=a(4),d=a(3),h=a(5),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.fileInput.current.files[0],n=a.createSound(t);a.props.handleFileUpload(n)},a.fileInput=o.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"createSound",value:function(e){var t=document.createElement("audio");return t.src=URL.createObjectURL(e),t.preload="none",t.crossOrigin="anonymous",t.name=e.name,t}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("input",{id:"file-load",type:"file",ref:this.fileInput,onChange:this.handleSubmit}),o.a.createElement("label",{htmlFor:"file-load",className:"upload-file-label"},"Load file..."))}}]),t}(o.a.Component),m=(a(17),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderVisualizer=function(){var e,t=a.canvas.current,n=t.getContext("2d"),o=t.width/125*30;!function r(){var i=[],c=[];if(n.clearRect(0,0,t.width,t.height),requestAnimationFrame(r),a.props.audioContexts.forEach((function(e){var t=e.freqData;e.analyser.getByteFrequencyData(t),c.push(t)})),a.props.audioContexts.length>0){for(var l=function(e){i.push(0),c.forEach((function(t){i[e]+=t[e]}))},s=0;s<c[0].length;s++)l(s);for(var u=t.width/2,d=t.height/2,h=0;h<125;h++){e=.5*i[h],o=3;var p=2*Math.PI/125,m=u+45*Math.cos(p*h),f=d+45*Math.sin(p*h),v=u+Math.cos(p*h)*(45+e),b=d+Math.sin(p*h)*(45+e);a.drawBar(n,m,f,v,b,o)}n.beginPath(),n.arc(u,d,45,0,2*Math.PI),n.lineWidth=1,n.stroke(),n.closePath()}}()},a.drawBar=function(e,t,a,n,o,r){var i=e.createLinearGradient(t,a,n,o);i.addColorStop(0,"rgb(209, 136, 155)"),i.addColorStop(.5,"rgb(247, 223, 230)"),i.addColorStop(.8,"rgb(230, 243, 245)"),i.addColorStop(1,"white"),e.lineWidth=r,e.strokeStyle=i,e.beginPath(),e.moveTo(t,a),e.lineTo(n,o),e.stroke(),e.closePath()},a.canvas=o.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderVisualizer()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{className:"visualizer",width:500,height:500,ref:this.canvas}))}}]),t}(o.a.Component));m.defaultProps={audioContexts:[]};var f=m,v=a(6),b=a(9),g=a.n(b),C=function(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(50),l=Object(v.a)(c,2),s=l[0],u=l[1],d=e.sound;return o.a.createElement("div",{className:"sound"},o.a.createElement("img",{className:"sound-icon",src:g.a,alt:"sound-icon",height:"60",width:"60"}),o.a.createElement("div",{className:"controls"},o.a.createElement("i",{className:"material-icons play-pause-btn",onClick:function(){r?d.pause():d.play(),i(!r)}}," ",r?"pause_circle_outline":"play_circle_outline")),o.a.createElement("div",null,o.a.createElement("input",{className:"volume-slider",type:"range",min:"0",max:"100",value:s,onChange:function(e){var t=e.target.value;u(t),t=parseFloat(.01*t).toFixed(2),d.volume=t}})),o.a.createElement("p",{className:"now-playing"},d.name.replace(/\.[^/.]+$/,"")))},O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).soundComponents=function(){return a.props.sounds.map((function(e){return o.a.createElement(C,{sound:e})}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"sound-container"},this.soundComponents())}}]),t}(o.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleFileUpload=function(e){var t=a.createAudioContext(e),n=[].concat(Object(c.a)(a.state.audioContexts),[t]);a.setState({audioContexts:n}),t.sound.play()},a.createAudioContext=function(e){var t=new AudioContext,a=t.createMediaElementSource(e),n=t.createAnalyser(),o=n.frequencyBinCount,r=new Uint8Array(o);return a.connect(n),n.connect(t.destination),{sound:e,freqData:r,analyser:n}},a.state={audioContexts:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h2",{className:"header"},"Welcome to the ~Multi-Viz~"),o.a.createElement("p",{className:"description"},"Upload a sound file and watch the show. Upload another file, see what happens."),o.a.createElement(p,{handleFileUpload:this.handleFileUpload}),o.a.createElement(f,{audioContexts:this.state.audioContexts}),o.a.createElement(O,{sounds:this.state.audioContexts.map((function(e){return e.sound}))}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a.p+"static/media/sound-icon.4d264c39.png"}},[[11,1,2]]]);
//# sourceMappingURL=main.ce207590.chunk.js.map